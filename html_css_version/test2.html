<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Test</title>

  <link rel="stylesheet" href="test.css">
</head>

<body>
<canvas id="myCanvas" width="100" height="100">
</canvas>
<!--<div class="cover">
   <span class="move"><img src="badge-ring2.png" width="110" height="110" style="margin-top: -5px"/></span>
</div>-->
<script>
var c=document.getElementById("myCanvas");
var ctx=c.getContext("2d");
var imageObj1 = new Image();
var imageObj2 = new Image();
imageObj1.src = "picture.png"
imageObj2.src = "badge-ring4.png";
imageObj1.onload = function() {
   ctx.drawImage(imageObj1, 0, 0, 100, 100);
   imageObj2.onload = function() {
      ctx.drawImage(imageObj2, 0, 0, 100, 100);
      //var img = c.toDataURL("image/png");
      var img = c.toDataURL("image/png").replace("image/png", "image/octet-stream");  // here is the most important part because if you dont replace you will get a DOM 18 exception.
	  window.location.href=image; // it will save locally
      //document.write('<img src="' + img + '" width="100" height="100"/>');
   }
};
</script>
</body>
</html>